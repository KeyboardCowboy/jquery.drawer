(function(e){function t(){}t.prototype={handle:null,stuff:null,s:{},isOpen:!0,dims:{},drawer:function(t){var n={speed:500,handleSelector:"",position:"right",hoverIntent:{enabled:!1}};e.extend(this.s,n,t);console.log(this.s);this.setCss();this.handle=e(".handle",this).clone();this.stuff=e("<div></div>",{"class":"stuff"});e(".handle",this).remove();this.stuff.html(this.html());this.html("").append(this.stuff);this.handle.html(this.s.handleText);this.prepend(this.handle);this.dims.w=this.stuff.outerWidth();this.dims.h=this.stuff.outerHeight();this.listenHover();this.listenClick()},setCss:function(){this.addClass("drawer").addClass(this.s.position);this.css({position:"relative"})},listenHover:function(){var e=this;this.s.hoverIntent.enabled?this.hoverIntent(function(){e.open()},function(){e.close()}):this.hover(function(){e.open()},function(){e.close()})},listenClick:function(){var e=this;this.handle.on("click",function(){e.isOpen?e.close():e.open()})},open:function(){this.animate({right:"0"},this.s.speed).addClass("open").removeClass("closed");this.isOpen=!0},close:function(){this.animate({right:-this.dims.w},this.s.speed).addClass("closed").removeClass("open");this.isOpen=!1}};e.fn.drawer=function(n){var r=e(this);n=typeof n!="object"?{}:n;e.extend(!0,r,new t);r.drawer(n)}})(jQuery);