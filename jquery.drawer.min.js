(function(e){function t(){}t.prototype={handle:null,stuff:null,s:{},isOpen:!0,dims:{},drawer:function(t){var n={speed:500,handleSelector:"",position:"right",status:"open",hoverIntent:{enabled:!1}};e.extend(this.s,n,t);this.constructDrawer();this.dims.w=this.stuff.outerWidth();this.dims.h=this.stuff.outerHeight();this.setPosition();this.listenHover();this.listenClick();this.listenResize()},constructDrawer:function(){this.addClass("drawer");this.handle=e(".handle",this).clone();this.stuff=e("<div></div>",{"class":"stuff"});e(".handle",this).remove();this.stuff.html(this.html());this.html("").append(this.stuff)},listenHover:function(){var e=this;this.s.hoverIntent.enabled?this.hoverIntent(function(){e.open()},function(){e.close()}):this.hover(function(){e.open()},function(){e.close()})},listenClick:function(){var e=this;this.handle.on("click",function(){e.isOpen?e.close():e.open()})},listenResize:function(){var t=this;e(window).resize(function(){t.setPosition()})},setPosition:function(){var t=e(window).width();if(typeof this.s.breakpoints!="undefined")for(i in this.s.breakpoints)if(t<this.s.breakpoints[i].max&&t>=this.s.breakpoints[i].min){this.s.position=this.s.breakpoints[i].position;this.s.status=this.s.breakpoints[i].status;this.css({left:"",right:"",top:"",bottom:""})}this.removeClass("top right left bottom");this.addClass(this.s.position);this.s.status=="open"?this.open(0):this.close(0);this.s.position=="top"?this.append(this.handle):this.prepend(this.handle)},open:function(e){e=typeof e=="undefined"?this.s.speed:e;console.log(e);switch(this.s.position){case"top":this.animate({top:0},e);break;case"right":this.animate({right:0},e);break;case"bottom":this.animate({bottom:0},e);break;case"left":default:this.animate({left:0},e)}this.addClass("open").removeClass("closed");this.isOpen=!0},close:function(e){e=typeof e=="undefined"?this.s.speed:e;switch(this.s.position){case"top":this.animate({top:-this.dims.h},e);break;case"right":this.animate({right:-this.dims.w},e);break;case"bottom":this.animate({bottom:-this.dims.h},e);break;case"left":default:this.animate({left:-this.dims.w},e)}this.addClass("closed").removeClass("open");this.isOpen=!1}};e.fn.drawer=function(n){var r=e(this);n=typeof n!="object"?{}:n;e.extend(!0,r,new t);r.drawer(n)}})(jQuery);