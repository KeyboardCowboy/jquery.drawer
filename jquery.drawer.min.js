(function(e){function t(){}t.prototype={handle:null,stuff:null,s:{},isOpen:!0,dims:{},drawer:function(t){var n={speed:500,handleSelector:"",position:"right",status:"open",adjustMargins:!0,hoverIntent:{enabled:!1}};e.extend(this.s,n,t);this.constructDrawer();this.setDrawerPosition(this.s.position,this.s.status,!0);this.listenHover();this.listenClick()},constructDrawer:function(){this.addClass("drawer");this.handle=e(".handle",this).clone();this.stuff=e("<div></div>",{"class":"stuff"});e(".handle",this).remove();this.stuff.html(this.html());this.html("").append(this.stuff)},listenHover:function(){var e=this;this.s.hoverIntent.enabled?this.hoverIntent(function(){e.open()},function(){e.close()}):this.hover(function(){e.open()},function(){e.close()})},listenClick:function(){var e=this;this.handle.on("click",function(){e.isOpen?e.close():e.open()})},setDrawerPosition:function(e,t,n){var r=!1;n=n||!1;if(typeof t!="undefined"){this.s.status=t;r=!0}if(this.s.position!=e||n){this.s.position=e;this.removeClass("top right left bottom");this.addClass(this.s.position);this.css({left:"",right:"",top:"",bottom:""});this.getDimentions();switch(this.s.position){case"top":this.handle.width("auto");this.append(this.handle);break;case"right":this.handle.width(this.dims.h);this.prepend(this.handle);break;case"bottom":this.handle.width("auto");this.prepend(this.handle);break;case"left":this.handle.width(this.dims.h);this.prepend(this.handle)}this.adjustMargins();r=!0}r&&(this.s.status=="open"?this.open(0):this.close(0))},getDimentions:function(){this.dims.w=this.stuff.outerWidth();this.dims.h=this.stuff.outerHeight()},adjustMargins:function(){if(!this.s.adjustMargins)return;switch(this.s.position){case"top":e("body").css("margin-top",this.handle.outerHeight());break;case"right":e("body").css("margin-top","");e("body").css("margin-bottom","");break;case"bottom":e("body").css("margin-bottom",this.handle.outerHeight());break;case"left":e("body").css("margin-top","");e("body").css("margin-bottom","")}},open:function(e){e=typeof e=="undefined"?this.s.speed:e;switch(this.s.position){case"top":this.animate({top:0},e);break;case"right":this.animate({right:0},e);break;case"bottom":this.animate({bottom:0},e);break;case"left":default:this.animate({left:0},e)}this.addClass("open").removeClass("closed");this.isOpen=!0},close:function(e){e=typeof e=="undefined"?this.s.speed:e;this.getDimentions();switch(this.s.position){case"top":this.animate({top:-this.dims.h},e);break;case"right":this.animate({right:-this.dims.w},e);break;case"bottom":this.animate({bottom:-this.dims.h},e);break;case"left":default:this.animate({left:-this.dims.w},e)}this.addClass("closed").removeClass("open");this.isOpen=!1}};e.fn.drawer=function(n){n=typeof n!="object"?{}:n;e.extend(!0,this,new t);this.drawer(n)}})(jQuery);